<main>
  <div class="row">
    <h5>Listagem de produtos</h5>
    <div class="table-responsive">
      <table class="table table-striped">
        <thead>
          <tr>
            <td colspan="5">
              <button class="btn btn-primary" (click)="productInsertService.showModalInsert()">Novo Produto</button>
            </td>
          </tr>
          <tr>
            <th style="width: 5%">ID</th>
            <th style="width: 15%">Nome</th>
            <th style="width: 10%">Preço</th>
            <th style="width: 30%">Descrição</th>
            <th style="width: 5%">Ativo</th>
            <th style="width: 10%">Criado em</th>
            <th style="width: 10%">Ações</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let product of products | paginate: {itemsPerPage:pagination.itemsPerPage, currentPage: pagination.page, totalItems: pagination.totalItems}">
            <td>{{product.id}}</td>
            <td>{{product.name}}</td>
            <td>{{product.price}}</td>
            <td>{{product.description}}</td>
            <td> <i class="fas" [ngClass]="{'fa-check' : product.active, 'fa-times': !product.active}"></i></td>
            <td>{{ product.created_at.date | date: 'dd/MM/yyyy' }}</td>
            <td>
              <a href="javascript:void(0)">
                <i class="fas fa-edit"></i>
              </a>
              |
              <a href="javascript:void(0)">
                <i class="fas fa-trash-alt"></i>
              </a>
            </td>
          </tr>
        </tbody>
      </table>
      <pagination-controls nextLabel="próximo" previousLabel="anterior" (pageChange)="pageChanged($event)"></pagination-controls>
    </div>
  </div>
</main>
<product-new-modal (onSuccess)="productInsertService.onInsertSuccess($event)" (onError)="productInsertService.onInsertError($event)"></product-new-modal>
